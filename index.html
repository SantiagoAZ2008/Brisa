<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Brisa 2025</title>

<style>
/* ======== RESET ======== */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
html,body{height:100%;overflow:hidden;background:#030712;color:white}

/* ======== FONDO ANIMADO ======== */
body::before{
  content:"";
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:linear-gradient(120deg,#0d1117,#111827,#0d1117);
  background-size:300% 300%;
  animation:camuflaje 12s infinite alternate ease-in-out;
  z-index:-1;
}
@keyframes camuflaje{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* ======== CONTENEDOR LOGIN ======== */
#authBox{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  width:350px;background:rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.1);border-radius:20px;
  backdrop-filter:blur(12px);
  padding:40px 30px;text-align:center;
  box-shadow:0 0 40px rgba(0,0,0,0.5);
  transition:all .8s ease;
}
#authBox h1{font-size:28px;color:#3b82f6;margin-bottom:15px}
#authBox input{
  width:100%;padding:12px;margin-top:12px;
  border:none;border-radius:8px;
  background:rgba(255,255,255,0.1);color:white;
}
#authBox button{
  margin-top:20px;width:100%;padding:12px;
  border:none;border-radius:10px;
  background:linear-gradient(90deg,#2563eb,#3b82f6);
  color:white;font-size:16px;cursor:pointer;
  transition:0.3s;
}
#authBox button:hover{transform:scale(1.05)}
.link{margin-top:15px;font-size:14px;color:#9ca3af;cursor:pointer}
.link:hover{color:white}

/* ======== DASHBOARD ======== */
#dashboard{display:none;height:100%;width:100%;display:flex}
.sidebar{
  width:250px;background:#0f172a;display:flex;flex-direction:column;
  justify-content:space-between;padding:25px 0;
  border-right:2px solid rgba(255,255,255,0.05);
}
.sidebar h2{color:#3b82f6;text-align:center;margin-bottom:20px}
.menu{display:flex;flex-direction:column;gap:10px}
.menu button{
  background:none;border:none;color:#9ca3af;
  font-size:16px;padding:12px 20px;text-align:left;
  cursor:pointer;transition:0.3s;
}
.menu button:hover,.menu button.active{
  background:#1e293b;color:white;border-left:3px solid #3b82f6;
}
footer{font-size:12px;color:#64748b;text-align:center;margin-top:30px}
footer a{color:#3b82f6;text-decoration:none}

/* ======== CONTENIDO PRINCIPAL ======== */
.content{flex:1;padding:40px;overflow-y:auto}
.content h1{font-size:30px;color:#3b82f6;margin-bottom:20px}
.section{animation:fadeIn .6s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}

/* ======== JUEGOS ======== */
.gameBox{margin-top:20px}
#reactionBtn{
  background:#3b82f6;color:white;border:none;padding:15px 30px;
  border-radius:10px;font-size:16px;cursor:pointer;transition:0.3s;
}
#reactionBtn.waiting{background:#1e293b;cursor:not-allowed}
#memoryGrid{
  display:grid;grid-template-columns:repeat(4,80px);gap:10px;margin-top:20px;
}
.card{
  width:80px;height:80px;background:#1e293b;border-radius:10px;
  display:flex;align-items:center;justify-content:center;
  font-size:22px;cursor:pointer;color:transparent;transition:.3s;
}
.card.flipped{background:#3b82f6;color:white}

/* ======== SCROLL ======== */
::-webkit-scrollbar{width:6px}
::-webkit-scrollbar-thumb{background:#3b82f6;border-radius:10px}
</style>
</head>

<body>
<!-- LOGIN / REGISTRO -->
<div id="authBox">
  <h1>Bienvenido a Brisa</h1>
  <p>Inicia sesiÃ³n o regÃ­strate</p>
  <input type="text" id="user" placeholder="Usuario">
  <input type="password" id="pass" placeholder="ContraseÃ±a">
  <div id="inviteDiv" style="display:none">
    <input type="text" id="invite" placeholder="CÃ³digo de invitaciÃ³n (opcional)">
  </div>
  <button id="loginBtn">Entrar</button>
  <div class="link" id="toggleForm">Â¿No tienes cuenta? RegÃ­strate</div>
</div>

<!-- DASHBOARD -->
<div id="dashboard">
  <div class="sidebar">
    <div>
      <h2>ðŸŒŒ Brisa</h2>
      <div class="menu">
        <button class="active" onclick="showSection('home')">Inicio</button>
        <button onclick="showSection('games')">Mini-juegos</button>
        <button onclick="showSection('emotions')">Emociones</button>
        <button onclick="showSection('users')">Usuarios</button>
        <button onclick="showSection('profile')">Perfil</button>
      </div>
    </div>
    <footer>Â© 2025 Brisa<br><a href="https://www.instagram.com/sa_mejia.e/" target="_blank">@sa_mejia.e</a></footer>
  </div>

  <div class="content">
    <div id="home" class="section">
      <h1>Bienvenido a Brisa ðŸŒŒ</h1>
      <p><strong>Creador:</strong> Santiago NuÃ±ez MejÃ­a</p>
      <p><strong>PropÃ³sito:</strong> Brisa es una aplicaciÃ³n diseÃ±ada para el bienestar emocional, ayudÃ¡ndote a registrar tus emociones, relajarte con mini-juegos y mantener tu mente en equilibrio.</p>
    </div>

    <div id="games" class="section" style="display:none">
      <h1>Mini-juegos ðŸŽ®</h1>
      <div class="gameBox">
        <h3>Reflejos</h3>
        <button id="reactionBtn" class="waiting">Espera...</button>
        <p id="reactionResult"></p>
      </div>
      <div class="gameBox">
        <h3>Memoria</h3>
        <div id="memoryGrid"></div>
      </div>
    </div>

    <div id="emotions" class="section" style="display:none">
      <h1>Registro emocional ðŸ’­</h1>
      <p>Describe cÃ³mo te sientes hoy:</p>
      <textarea id="emotionNote" rows="5" style="width:100%;padding:10px;border-radius:10px;background:#1e293b;color:white;border:none;margin-top:10px"></textarea>
      <button onclick="saveEmotion()" style="margin-top:15px;">Guardar emociÃ³n</button>
      <div id="emotionLog" style="margin-top:20px;"></div>
    </div>

    <div id="users" class="section" style="display:none">
      <h1>Usuarios registrados ðŸ‘¥</h1>
      <div id="userList"></div>
    </div>

    <div id="profile" class="section" style="display:none">
      <h1>Mi Perfil ðŸ‘¤</h1>
      <div id="profileInfo"></div>
      <button onclick="logout()" style="margin-top:20px;">Cerrar sesiÃ³n</button>
    </div>
  </div>
</div>

<script>
let isLogin=true;
const authBox=document.getElementById("authBox");
const toggleForm=document.getElementById("toggleForm");
const inviteDiv=document.getElementById("inviteDiv");
const loginBtn=document.getElementById("loginBtn");

toggleForm.onclick=()=>{
  isLogin=!isLogin;
  if(isLogin){
    inviteDiv.style.display="none";
    loginBtn.textContent="Entrar";
    toggleForm.textContent="Â¿No tienes cuenta? RegÃ­strate";
  }else{
    inviteDiv.style.display="block";
    loginBtn.textContent="Registrar";
    toggleForm.textContent="Â¿Ya tienes cuenta? Inicia sesiÃ³n";
  }
};

loginBtn.onclick=()=>{
  const user=document.getElementById("user").value.trim();
  const pass=document.getElementById("pass").value.trim();
  if(!user||!pass){alert("Completa los campos");return;}

  let users=JSON.parse(localStorage.getItem("brisaUsers")||"[]");

  if(isLogin){
    const found=users.find(u=>u.user===user&&u.pass===pass);
    if(!found){alert("Usuario o contraseÃ±a incorrectos");return;}
    enterDashboard(user);
  }else{
    if(users.find(u=>u.user===user)){alert("Ese usuario ya existe");return;}
    const code="INV-"+Math.random().toString(36).substr(2,6).toUpperCase();
    users.push({user,pass,myCode:code});
    localStorage.setItem("brisaUsers",JSON.stringify(users));
    alert("Registrado exitosamente. Tu cÃ³digo: "+code);
    isLogin=true;toggleForm.click();
  }
};

function enterDashboard(user){
  localStorage.setItem("brisaSession",user);
  authBox.style.opacity="0";
  setTimeout(()=>{
    authBox.style.display="none";
    document.getElementById("dashboard").style.display="flex";
    loadUsers();
    loadProfile();
  },800);
}

function logout(){
  localStorage.removeItem("brisaSession");
  location.reload();
}

/* ----------- SECCIONES ----------- */
function showSection(id){
  document.querySelectorAll(".section").forEach(s=>s.style.display="none");
  document.querySelectorAll(".menu button").forEach(b=>b.classList.remove("active"));
  document.getElementById(id).style.display="block";
  event.target.classList.add("active");
}

/* ----------- USUARIOS ----------- */
function loadUsers(){
  const list=document.getElementById("userList");
  const users=JSON.parse(localStorage.getItem("brisaUsers")||"[]");
  list.innerHTML=users.map(u=>`<p>ðŸ‘¤ ${u.user} â€” CÃ³digo: ${u.myCode}</p>`).join("")||"<p>No hay usuarios registrados.</p>";
}

/* ----------- PERFIL ----------- */
function loadProfile(){
  const user=localStorage.getItem("brisaSession");
  const users=JSON.parse(localStorage.getItem("brisaUsers")||"[]");
  const data=users.find(u=>u.user===user);
  document.getElementById("profileInfo").innerHTML=`
    <p><strong>Usuario:</strong> ${data.user}</p>
    <p><strong>CÃ³digo:</strong> ${data.myCode}</p>
    <p><strong>Miembro desde:</strong> ${new Date().toLocaleDateString()}</p>`;
}

/* ----------- EMOCIONES ----------- */
function saveEmotion(){
  const note=document.getElementById("emotionNote").value;
  if(!note){alert("Escribe algo primero");return;}
  const user=localStorage.getItem("brisaSession");
  const data=JSON.parse(localStorage.getItem("brisaEmotions")||"{}");
  if(!data[user])data[user]=[];
  data[user].push({text:note,date:new Date().toLocaleString()});
  localStorage.setItem("brisaEmotions",JSON.stringify(data));
  document.getElementById("emotionNote").value="";
  renderEmotions();
}
function renderEmotions(){
  const user=localStorage.getItem("brisaSession");
  const data=JSON.parse(localStorage.getItem("brisaEmotions")||"{}");
  const list=(data[user]||[]).map(e=>`<p>ðŸ•“ ${e.date}<br>${e.text}</p>`).join("");
  document.getElementById("emotionLog").innerHTML=list||"<p>AÃºn no registras emociones.</p>";
}

/* ----------- JUEGO DE REACCIÃ“N ----------- */
let reactionTimeout,startTime;
const btn=document.getElementById("reactionBtn");
btn.onclick=()=>{
  if(btn.classList.contains("waiting"))return;
  const end=Date.now()-startTime;
  document.getElementById("reactionResult").innerText=`Tu tiempo: ${end} ms`;
  btn.classList.add("waiting");btn.textContent="Espera...";
  startReaction();
};
function startReaction(){
  clearTimeout(reactionTimeout);
  reactionTimeout=setTimeout(()=>{
    btn.classList.remove("waiting");
    btn.textContent="Â¡Ahora!";
    startTime=Date.now();
  },Math.random()*3000+1000);
}
startReaction();

/* ----------- JUEGO DE MEMORIA ----------- */
const grid=document.getElementById("memoryGrid");
const symbols=["ðŸŒ™","â˜€ï¸","â­","ðŸ”¥","ðŸ’§","ðŸŒˆ","âš¡","ðŸ€"];
let cards=[...symbols,...symbols].sort(()=>Math.random()-0.5);
let flipped=[],solved=0;
cards.forEach((sym,i)=>{
  const c=document.createElement("div");
  c.className="card";
  c.dataset.sym=sym;
  c.onclick=()=>flip(c);
  grid.appendChild(c);
});
function flip(card){
  if(flipped.length<2&&!card.classList.contains("flipped")){
    card.classList.add("flipped");
    card.textContent=card.dataset.sym;
    flipped.push(card);
    if(flipped.length===2)checkMatch();
  }
}
function checkMatch(){
  setTimeout(()=>{
    if(flipped[0].dataset.sym===flipped[1].dataset.sym){
      solved+=2;
      flipped.forEach(c=>c.style.background="#22c55e");
    }else{
      flipped.forEach(c=>{c.classList.remove("flipped");c.textContent="";});
    }
    flipped=[];
    if(solved===cards.length)alert("Â¡Completaste el juego de memoria!");
  },700);
}
</script>
</body>
</html>
